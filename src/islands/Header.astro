---
import OuterContainer from "../components/OuterContainer.astro";
import InnerContainer from "../components/InnerContainer.astro";
import Link from '../components/Link.astro';
import menus from '../stores/menus.json';
---

<header class="relative z50 flex flex-col pointer-events-none">
  <OuterContainer>
    <InnerContainer>
      <div class="flex justify-end flex-1">
        <nav class="pointer-events-auto">
            <ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10">
                {menus.map((menu) => {
                    const isActive = Astro.url.pathname === menu.href
                    const classes = ['transition', 'relative', 'block', 'px3', 'py2']

                    // 현재 페이지 일 때 추가 클래스
                    if (isActive) {
                        classes.push('c-indigo-600 dark:c-indigo-400')
                    }

                    return (
                        <li>
                            <Link href={menu.href} classes={classes.join(' ')}>
                                {menu.name}

                                {isActive ? (
                                    <span class="absolute inset-x-1 -bottom-px h-px bg-gradient-to-r from-indigo-500/0 via-indigo-500/40 to-indigo-500/0 dark:from-indigo-400/0 dark:via-indigo-400/40 dark:to-indigo-400/0"></span>
                                ) : undefined}
                            </Link>
                        </li>
                    )
                })}
            </ul>
        </nav>
    </div>
    </InnerContainer>
  </OuterContainer>
</header>
